rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {

    // Anyone can read any file. URLs are unguessable.
    match /{allPaths=**} {
      allow read;
    }

    // Allow any authenticated user to write to the requirements, updates, or profiles folders.
    // The path segments are wildcarded because the file names are unique and unguessable.
    match /requirements/{requirementId}/{fileName} {
      allow write: if request.auth != null;
    }

    match /updates/{updateId}/{fileName} {
       allow write: if request.auth != null;
    }

    match /shopOwnerProfiles/{userId}/{fileName} {
       allow write: if request.auth != null;
    }
    
  }
}
